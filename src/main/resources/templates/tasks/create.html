<!DOCTYPE html>
<html lang="en">
    <head>
        <th:block th:replace="~{partials/partials :: head(title= 'Submit A Task')}">
          <link rel="stylesheet" th:href="@{/css/createTasks.css}">
        </th:block>
    </head>
    <body>
      <nav th:insert="~{partials/partials :: navbar}"></nav>
      <h1>Create Task</h1>
      <form th:action="@{/tasks/create}" th:method="POST" th:object="${tasker}">
        <label for="title">Title</label>
        <input th:field="*{title}" id="tytle">
        <br>
        <br>
        <label for="description">Description</label>
        <!-- <input th:field="*{description}"> -->
        <textarea cols="30" rows="10" th:field="*{description}" id="desc"></textarea>
        <br>
        <br>
        <fieldset>
          <legend>Categories:</legend>
          <div th:each="c : ${cat}">
            <label th:for="${c.name}">[[${c.name}]]</label>
            <input type="checkbox" name="cater" th:id="${c.name}" th:value="${c.getName()}">
          </div>
              <!-- <a th:href="@{/tasks/addCategory}" id="blah">Add Category</a> -->
              <button type="button" id="hiddenForm">Add Cat</button>
                <div hidden id="removeHidden">
                  <h1>add category page!</h1>
                  <form
                  th:action="@{/tasks/create}"
                  th:method="POST"
                  th:object="${newCat}"
                  >

                    <label for="name"></label>
                    <input th:field="*{name}" id="catName" />
                    <button type="button">Sub Cat</button>
                    <button type="button" id="cancelCreateCat">Cancel</button>
                  </form>
                </div>
        </fieldset>
        <input type="submit" id="sobmit">
        <!-- <button>Submit</button> -->
      </form>

      <br>

<script>
  const removeHiddenAttribute = document.getElementById("hiddenForm");
  const addHiddenAttribute = document.getElementById("cancelCreateCat");
  const tint = document.getElementById("sobmit");
  removeHiddenAttribute.addEventListener('click', () => {
    if('click'){
      document.getElementById("removeHidden").hidden = false;
          }
    });
    addHiddenAttribute.addEventListener('click', () =>{
      if('click'){
        document.getElementById("removeHidden").hidden = true;
        console.log("kitty: " +catName.value)
        alert("Cancel Klick")
        let x = document.getElementById("catName")
        x.value = ""
        // console.log('x-val: ' +x.value)

      }
    })

</script>

    </body>
</html>