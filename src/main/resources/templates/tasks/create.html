<!DOCTYPE html>
<html lang="en">
    <head>
        <th:block th:replace="~{partials/partials :: head(title= 'Submit A Task')}">
          <link rel="stylesheet" th:href="@{/css/createTasks.css}">
        </th:block>
    </head>
    <body>
      <nav th:insert="~{partials/partials :: navbar}" id="nuvBar"></nav>
      <h1>Create Task</h1>
      <form th:action="@{/tasks/create}" th:method="POST" th:object="${tasker}">
        <label for="title">Title</label>
        <input th:field="*{title}" id="tytle">
        <br>
        <br>
        <label for="description">Description</label>
        <!-- <input th:field="*{description}"> -->
        <textarea cols="30" rows="10" th:field="*{description}" id="desc"></textarea>
        <br>
        <br>
        <fieldset>
          <legend>Categories:</legend>
          <div th:each="c : ${cat}">
            <label th:for="${c.name}">[[${c.name}]]</label>
            <input type="checkbox" name="cater" th:id="${c.name}" th:value="${c.getName()}">
          </div>
        </fieldset>
        <input type="submit" id="sobmit">
        <!-- <button type="submit" id="sobmit">Submit</button> -->
      </form>
              <!-- <a th:href="@{/tasks/addCategory}" id="blah">Add Category</a> -->
          <fieldset>
              <button type="button" id="hiddenForm">Add Cat</button>
                <div hidden id="removeHidden">
                  <h1>add category page!</h1>
                  <form
                  th:action="@{/tasks/create}"
                  th:method="POST"
                  th:object="${newCat}"
                  >

                    <label for="name"></label>
                    <input th:field="*{name}" id="catName" />
                    <!-- <button type="submit">Sub Cat</button> -->
                     <input type="submit" value="Sobmyt" id="sobmitIt">
                    <button type="reset" id="cancelCreateCat">Cancel</button>
                  </form>
                </div>
          </fieldset>
        <!-- <input type="submit" id="sobmit"> -->
        <!-- <button type="submit" id="sobmit">Submit</button> -->
      <!-- </form> -->

      <br>

<script>
  const removeHiddenAttribute = document.getElementById("hiddenForm");
  const addHiddenAttribute = document.getElementById("cancelCreateCat");
  const sobmitButt = document.getElementById("sobmit");
  const texter = document.getElementById("tytle")
  removeHiddenAttribute.addEventListener('click', () => {
    if('click'){
      document.getElementById("removeHidden").hidden = false;

      sessionStorage.setItem('title', texter.value);
      // console.log("seshStor.get: " +sessionStorage.getItem('title'));
      // sessionStorage.removeItem('title');
      // const sobmitButt = document.getElementById("sobmitIt");

      //     sobmitButt.addEventListener('click', ()=>{
      //     alert('beep!')
      //     console.log("seshStor.get: " +sessionStorage.getItem('title'));

      //     texter.value = "do you see?";
      //   })

      }
    });
    addHiddenAttribute.addEventListener('click', () =>{
      if('click'){
        document.getElementById("removeHidden").hidden = true;
        // console.log("kitty: " +texter.value)
        // let x = document.getElementById("catName")
        // x.value = ""
        // console.log('x-val: ' +x.value)

      }
    })
    // sobmitButt.addEventListener('click', ()=>{
    //   alert('beep!')
    // })
    const sobmitButtz = document.getElementById("sobmitIt");

      function exer () {
        sobmitButtz.addEventListener('click', ()=>{
        alert('beep!')
        // console.log("seshStor.get: " +sessionStorage.getItem('title'));
        // document.getElementById('tytle').value = sessionStorage.getItem('title');
        // texter.value = "do you see?";
      })
    }
    if(exer){
      // console.log("seshStor.get: " +sessionStorage.getItem('title'));
        document.getElementById('tytle').value = sessionStorage.getItem('title');
    }

    let naver = document.getElementById('nuvBar');
    function navBarr () {
      naver.addEventListener('click', ()=>{
      // alert('clicked!')
    })
  }
  if(navBarr){
    sessionStorage.clear();
  }
</script>

    </body>
</html>